!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["dss-common"]=t():e["dss-common"]=t()}(window,function(){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=162)}({162:function(e,t,r){var a,o,n,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=[],a=function(){var e,t={},r={watermark_id:"wm_div_id",watermark_prefix:"mask_div_id",watermark_txt:"测试水印",watermark_x:20,watermark_y:20,watermark_rows:0,watermark_cols:0,watermark_x_space:50,watermark_y_space:50,watermark_font:"微软雅黑",watermark_color:"black",watermark_fontsize:"18px",watermark_alpha:.15,watermark_width:100,watermark_height:100,watermark_angle:15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null,monitor:!0,is_html:!1},a=function(e){if(1===arguments.length&&"object"===m(arguments[0])){var t=arguments[0]||{};for(key in t)t[key]&&r[key]&&t[key]===r[key]||(t[key]||0===t[key])&&(r[key]=t[key])}var a=document.getElementById(r.watermark_id);a&&a.parentNode&&a.parentNode.removeChild(a);var i=document.getElementById(r.watermark_parent_node),w=i||document.body,_=Math.max(w.scrollWidth,w.clientWidth),s=Math.max(w.scrollHeight,w.clientHeight),l=arguments[0]||{},k=w,d=0,c=0;l.watermark_parent_width||l.watermark_parent_height?k&&(d=k.offsetTop||0,c=k.offsetLeft||0,r.watermark_x=r.watermark_x+c,r.watermark_y=r.watermark_y+d):k&&(d=k.offsetTop||0,c=k.offsetLeft||0);var y=document.getElementById(r.watermark_id),f=null;if(y)y.shadowRoot&&(f=y.shadowRoot);else{(y=document.createElement("div")).id=r.watermark_id,y.setAttribute("style","pointer-events: none !important; display: block !important"),f="function"==typeof y.attachShadow?y.attachShadow({mode:"open"}):y;var p=w.children,u=Math.floor(Math.random()*(p.length-1));p[u]?w.insertBefore(y,p[u]):w.appendChild(y)}r.watermark_cols=parseInt((_-r.watermark_x)/(r.watermark_width+r.watermark_x_space));var h,v=parseInt((_-r.watermark_x-r.watermark_width*r.watermark_cols)/r.watermark_cols);r.watermark_x_space=v?r.watermark_x_space:v,r.watermark_rows=parseInt((s-r.watermark_y)/(r.watermark_height+r.watermark_y_space));var g,x,b,M=parseInt((s-r.watermark_y-r.watermark_height*r.watermark_rows)/r.watermark_rows);r.watermark_y_space=M?r.watermark_y_space:M,i?(h=r.watermark_x+r.watermark_width*r.watermark_cols+r.watermark_x_space*(r.watermark_cols-1),g=r.watermark_y+r.watermark_height*r.watermark_rows+r.watermark_y_space*(r.watermark_rows-1)):(h=c+r.watermark_x+r.watermark_width*r.watermark_cols+r.watermark_x_space*(r.watermark_cols-1),g=d+r.watermark_y+r.watermark_height*r.watermark_rows+r.watermark_y_space*(r.watermark_rows-1));for(var S=0;S<r.watermark_rows;S++){b=i?d+r.watermark_y+(s-g)/2+(r.watermark_y_space+r.watermark_height)*S:r.watermark_y+(s-g)/2+(r.watermark_y_space+r.watermark_height)*S;for(var j=0;j<r.watermark_cols;j++){x=i?c+r.watermark_x+(_-h)/2+(r.watermark_width+r.watermark_x_space)*j:r.watermark_x+(_-h)/2+(r.watermark_width+r.watermark_x_space)*j;var O=document.createElement("div");if(r.is_html)O.innerHTML=r.watermark_txt;else{var I=document.createTextNode(r.watermark_txt);O.appendChild(I)}O.id=r.watermark_prefix+S+j,O.style.webkitTransform="rotate(-"+r.watermark_angle+"deg)",O.style.MozTransform="rotate(-"+r.watermark_angle+"deg)",O.style.msTransform="rotate(-"+r.watermark_angle+"deg)",O.style.OTransform="rotate(-"+r.watermark_angle+"deg)",O.style.transform="rotate(-"+r.watermark_angle+"deg)",O.style.visibility="",O.style.position="absolute",O.style.left=x+"px",O.style.top=b+"px",O.style.overflow="hidden",O.style.zIndex="9999999",O.style.opacity=r.watermark_alpha,O.style.fontSize=r.watermark_fontsize,O.style.fontFamily=r.watermark_font,O.style.color=r.watermark_color,O.style.textAlign="center",O.style.width=r.watermark_width+"px",O.style.height=r.watermark_height+"px",O.style.display="block",O.style["-ms-user-select"]="none",f.appendChild(O)}}var T=void 0===e.monitor?r.monitor:e.monitor;T&&(o.observe(w,n),o.observe(document.getElementById(r.watermark_id).shadowRoot,n))};t.init=function(t){e=t,a(t),window.addEventListener("onload",function(){a(t)}),window.addEventListener("resize",function(){a(t)})},t.load=function(t){e=t,a(t)},t.remove=function(){!function(){if(1===arguments.length&&"object"===m(arguments[0])){var e=arguments[0]||{};for(key in e)e[key]&&r[key]&&e[key]===r[key]||(e[key]||0===e[key])&&(r[key]=e[key])}var t=document.getElementById(r.watermark_id);t.parentNode.removeChild(t)}()};var o=new(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)(function(t){(e&&1===t.length||1===t.length&&t[0].removedNodes.length>=1)&&a(e)}),n={childList:!0,attributes:!0,subtree:!0};return t}(),void 0===(n="function"==typeof a?a.apply(t,o):a)||(e.exports=n)}})});